<style>
  section {
    background-image: url(assets/battle-background1.jpg);
    background-size: cover;
    background-position:center;
    width: 100%;
    min-height: 120vh;
}

h3 {
    color:rgb(139, 19, 19);
}

.pokemon-card {
    background-color: rgba(255, 255, 255, 0.85);
    border-radius: 10px;
    border: 1px rgb(78, 78, 78) solid;
}

.other-card {
    background-color: rgba(255, 255, 255, 0.85);
    border-radius: 10px;
    margin-top: 20%;

  }

.other-card-party {
    background-color: rgba(255, 255, 255, 0.85);
    border-radius: 10px;
    margin-top: 6%;

}

.evil-card {
    background-color: rgba(253, 7, 7, 0.85);
    border-radius: 10px;
    margin-top: 20%;
  }

.dark-card {
    background-color: rgba(0, 0, 0, 0.85);
    padding: 0% 3% 3% 3%;
    margin-bottom: 5%;
    border-radius: 10px;
  }

.row .col.s3 {
    width: 30%;
    margin-left: 8px;
    left: auto;
    right: auto;
}

.custom-button-battle {
    border-radius: 10px;
}

.btn {
    text-decoration: none;
    color: #fff;
    background-color: rgb(139, 19, 19);
    /* text-align: left; */
    letter-spacing: .5px;
    -webkit-transition: background-color .2s ease-out;
    transition: background-color .2s ease-out;
    margin: 5%;
    cursor: pointer;
}
</style>


{{!-- Battle section handlebars --}}
<section class="row">
    <div class="col s12">
        <div class="col s3 other-card-party center z-depth-5">
            <div class="">
                <div class="col s12 center">
                    <button id="battle" class="btn-large red white-text z-depth-5 waves-effect waves-light custom-button-battle"><i class="material-icons right">videogame_asset</i>FIGHT!</button>
                </div>
                <h3 class="card-title ">My Party</h3>
                <p>Pick a Pokemon to Battle with</p>
                <p>Then press FIGHT!</p>
            </div>
                {{#each pokemons}}
                {{#with this.trainer_pokemon}}
                {{#with this.is_in_party}}
                {{!-- BE CAREFUL WITH THE CSS --}}
                {{!-- Battle.js relies on the ordering of the 'my-pokemon' and the 'battle-pokemon' classes --}}
        <div class="pokemon-card col m6 s12  my-pokemon-div">
            <img class="my-pokemon " src="{{../../sprite}}" name="{{../../id}}">
            <h6 class="party-name pkn-type-black my-pokemon">{{capitalize ../../name}}</h6>
            {{#if ../../type_two}}  
                <p class="col l6 m12 s12 center pkn-type {{../../type_one}}-battle my-pokemon">{{capitalize ../../type_one}}</p>
                <p class="col l6 m12 s12 center pkn-type {{../../type_two}}-battle my-pokemon">{{capitalize ../../type_two}}</p>
            {{else}}
                <p class="center pkn-type {{../../type_one}}-battle my-pokemon">{{capitalize ../../type_one}}</p>
            {{/if}}
        </div>
        {{/with}}
        {{/with}}
        {{/each}}
        <a class="waves-effect waves-light btn col s12" href="/dashboard">Back to Dashboard!</a>
        </div>
            {{!-- Your battling Pokemon --}}
        <div id="battle-pokemon-div" class="col s3 other-card center z-depth-5">
            <h4>Battle Pokemon</h4>
            <img id="battle-pokemon-img" class="pokemon-card battle-pokemon" width="150" height="150" src="assets/placeholder.png">
            <div class="dark-card">
                <h3 id="battle-pokemon-name" class="white-text battle-pokemon "></h3>
                <p id="battle-pokemon-type-one" class="center battle-pokemon pkn-type-empty empty"></p>
                <p id="battle-pokemon-type-two" class="center battle-pokemon pkn-type-empty empty"></p>
            </div>
        </div>

        {{!-- Wild Pokemon data --}}
        {{#if random_wild_pokemon}}
        <div id="wild-pokemon" class="col s3 evil-card center z-depth-5 wild-pokemon" data-id="{{random_wild_pokemon.id}}">
            <h4>Wild Pokemon</h4>
            <img class="pokemon-card" width="150" height="150" src="{{random_wild_pokemon.sprite}}">
            <div class="dark-card">
                <h3 class="white-text">{{capitalize random_wild_pokemon.name}}</h3>
                {{#if random_wild_pokemon.type_two}}
                <p class="center pkn-type {{random_wild_pokemon.type_one}}"></p>
                <p class="center pkn-type {{random_wild_pokemon.type_two}}"></p>
                {{else}}
                <p class="center pkn-type {{random_wild_pokemon.type_one}}"></p>
                {{/if}}
            </div>
        </div>
    </div>
    {{!-- Battle Button --}}

    {{else}}
    {{!-- If they have no pokemon left to fight --}}
    <div>
        <h4>You have caught them all!</h4>
        <button class="btn-large black"><a class="white-text" href="/dashboard">Return to Dashboard</a></button>
    </div>
    {{/if}}
</section>

<script src="/js/battle.js"></script>
